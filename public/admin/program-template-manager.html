<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>ANX • Program &amp; Template Manager</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { theme: { extend: { colors: { anx: { sky: '#0ea5e9' }}}}};
  </script>
  <style>
    :root {
      color-scheme: light;
      --surface: #ffffff;
      --surface-alt: #f8fafc;
      --border: #e2e8f0;
      --ink: #0f172a;
      --ink-muted: #64748b;
      --brand-primary: #2563eb;
      --brand-accent: #7c3aed;
    }

    body {
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background-color: var(--surface-alt);
      color: var(--ink);
    }

    .panel {
      border-radius: 1rem;
      border: 1px solid var(--border);
      background-color: var(--surface);
      box-shadow: 0 10px 25px -12px rgba(15, 23, 42, 0.35);
    }

    .panel-section {
      border-radius: 0.75rem;
      border: 1px solid var(--border);
      background-color: var(--surface);
    }

    .label-text {
      display: block;
      font-size: 0.75rem;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--ink-muted);
    }

    .input {
      width: 100%;
      border-radius: 0.75rem;
      border: 1px solid var(--border);
      background-color: var(--surface);
      padding: 0.5rem 0.75rem;
      font-size: 0.875rem;
      color: var(--ink);
      transition: box-shadow 0.15s ease, border-color 0.15s ease;
    }

    .input:focus {
      outline: none;
      border-color: var(--brand-primary);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      border-radius: 0.75rem;
      border: 1px solid var(--border);
      background-color: var(--surface);
      padding: 0.5rem 0.85rem;
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--ink);
      transition: background-color 0.15s ease, color 0.15s ease, border-color 0.15s ease;
      cursor: pointer;
    }

    .btn-primary {
      border-color: var(--brand-primary);
      background-color: var(--brand-primary);
      color: #fff;
    }

    .btn-primary:hover {
      border-color: var(--brand-accent);
      background-color: var(--brand-accent);
    }

    .btn-outline {
      border-color: var(--border);
      background-color: var(--surface);
      color: var(--ink);
    }

    .btn-outline:hover {
      background-color: var(--surface-alt);
    }

    .btn-ghost {
      border-color: transparent;
      background-color: transparent;
      color: var(--ink-muted);
    }

    .btn-ghost:hover {
      background-color: var(--surface-alt);
      color: var(--ink);
    }

    .btn:disabled {
      cursor: not-allowed;
      opacity: 0.55;
    }

    .table {
      width: 100%;
      border-collapse: collapse;
      text-align: left;
    }

    .table th,
    .table td {
      padding: 0.75rem 1rem;
      border-bottom: 1px solid var(--border);
      font-size: 0.875rem;
    }

    .table tbody tr:hover {
      background-color: var(--surface-alt);
    }

    .badge {
      display: inline-flex;
      align-items: center;
      padding: 0.125rem 0.5rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 600;
    }

    .badge-published {
      background-color: rgba(34, 197, 94, 0.18);
      color: #15803d;
    }

    .badge-draft {
      background-color: rgba(59, 130, 246, 0.18);
      color: #1d4ed8;
    }

    .badge-deprecated {
      background-color: rgba(251, 191, 36, 0.24);
      color: #b45309;
    }

    .badge-archived {
      background-color: rgba(148, 163, 184, 0.25);
      color: #475569;
    }

    .empty-row td {
      text-align: center;
      padding: 2.5rem 1rem;
      color: var(--ink-muted);
      font-size: 0.875rem;
    }
  </style>
</head>
<body class="bg-slate-50 text-slate-900">
  <div class="max-w-6xl mx-auto p-4 space-y-6">
    <header class="flex items-center justify-between gap-4 flex-wrap">
      <div>
        <h1 class="text-2xl font-bold">Program &amp; Template Manager</h1>
        <p class="text-sm text-slate-500">Coordinate program lifecycles and fine-tune reusable templates.</p>
      </div>
      <div class="flex items-center gap-3 flex-wrap justify-end">
        <div class="flex flex-wrap gap-2">
          <a href="/admin/user-manager" class="btn btn-outline text-sm">Users</a>
          <a href="/admin/role-manager.html" class="btn btn-outline text-sm">Roles &amp; Programs</a>
          <a href="/admin/program-template-manager.html" class="btn btn-primary text-sm">Program Templates</a>
        </div>
        <a href="/" class="text-sm text-anx-sky underline">← Back to Orientation</a>
      </div>
    </header>

    <section class="panel p-4 md:p-6 space-y-4" id="programSection">
      <div class="flex items-start justify-between gap-3 flex-wrap">
        <div>
          <h2 class="text-xl font-semibold">Programs</h2>
          <p class="text-sm text-slate-500">Select programs to publish, deprecate, archive, or restore.</p>
        </div>
        <div class="flex items-center gap-2">
          <button id="btnRefreshPrograms" class="btn btn-outline text-sm">Refresh</button>
        </div>
      </div>

      <div class="grid gap-3 md:grid-cols-[minmax(0,1fr)_auto] md:items-end">
        <label class="space-y-1">
          <span class="label-text">Search programs</span>
          <input id="programSearch" class="input" placeholder="Search by title, lifecycle, or description…">
        </label>
        <div id="programSelectionSummary" class="text-xs text-slate-500 md:text-right">No programs selected.</div>
      </div>

      <div class="panel-section overflow-hidden">
        <div class="overflow-x-auto">
          <table class="table min-w-full" id="programTable">
            <thead class="bg-slate-100 text-xs uppercase tracking-wide text-slate-500">
              <tr>
                <th class="w-10">
                  <input type="checkbox" id="programSelectAll" class="rounded border-slate-300">
                </th>
                <th>Title</th>
                <th>Lifecycle</th>
                <th>Weeks</th>
                <th>Description</th>
                <th>Created</th>
                <th class="text-right">Archived</th>
              </tr>
            </thead>
            <tbody id="programTableBody" class="bg-white text-sm"></tbody>
          </table>
        </div>
      </div>

      <div class="space-y-1">
        <div class="flex flex-wrap gap-2" id="programActions">
          <button class="btn btn-primary" data-program-action="publish">Publish</button>
          <button class="btn btn-outline" data-program-action="deprecate">Deprecate</button>
          <button class="btn btn-outline" data-program-action="archive">Archive</button>
          <button class="btn btn-outline" data-program-action="restore">Restore</button>
        </div>
        <div id="programActionHint" class="text-xs text-slate-500">Select one or more programs to enable lifecycle actions.</div>
        <div id="programMessage" class="text-xs text-slate-500"></div>
      </div>
    </section>

    <section class="panel p-4 md:p-6 space-y-4" id="templateSection">
      <div class="flex items-start justify-between gap-3 flex-wrap">
        <div>
          <h2 class="text-xl font-semibold">Templates</h2>
          <p class="text-sm text-slate-500">Update template readiness before assigning to programs.</p>
        </div>
        <div class="flex items-center gap-2">
          <button id="btnRefreshTemplates" class="btn btn-outline text-sm">Refresh</button>
        </div>
      </div>

      <div class="grid gap-3 md:grid-cols-[minmax(0,1fr)_auto] md:items-end">
        <label class="space-y-1">
          <span class="label-text">Search templates</span>
          <input id="templateSearch" class="input" placeholder="Search by name, status, or category…">
        </label>
        <div id="templateSelectionSummary" class="text-xs text-slate-500 md:text-right">No templates selected.</div>
      </div>

      <div class="panel-section overflow-hidden">
        <div class="overflow-x-auto">
          <table class="table min-w-full" id="templateTable">
            <thead class="bg-slate-100 text-xs uppercase tracking-wide text-slate-500">
              <tr>
                <th class="w-10">
                  <input type="checkbox" id="templateSelectAll" class="rounded border-slate-300">
                </th>
                <th>Name</th>
                <th>Category</th>
                <th>Status</th>
                <th>Updated</th>
              </tr>
            </thead>
            <tbody id="templateTableBody" class="bg-white text-sm"></tbody>
          </table>
        </div>
      </div>

      <div class="space-y-1">
        <div class="flex flex-wrap gap-2" id="templateActions">
          <button class="btn btn-primary" data-template-action="publish">Publish</button>
          <button class="btn btn-outline" data-template-action="draft">Mark Draft</button>
          <button class="btn btn-outline" data-template-action="deprecate">Deprecate</button>
        </div>
        <div id="templateActionHint" class="text-xs text-slate-500">Select one or more templates to enable status changes.</div>
        <div id="templateMessage" class="text-xs text-slate-500"></div>
      </div>
    </section>
  </div>

  <script type="module" src="./program-template-manager.js"></script>
</body>
</html>
